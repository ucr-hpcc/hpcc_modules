#%Module1.0#####################################################################
##
## masurca modulefile
##
proc ModulesHelp { } {
        global version prefix

        puts stderr "\tmasurca - Adds masurca assembler to your path"
}

module-whatis	"masurca-4.0.9"

set      hpcc_modules    $::env(HPCC_MODULES)


module load miniconda3

if { [module-info mode load] || [module-info mode switch2] } {
    puts stdout "module load miniconda3; conda config --set env_prompt '(\$(dirname {default_env} |  perl -p -e \"s#.+pkgs/##\")) '; conda activate ${hpcc_modules}/masurca/4.0.9/env;"
} elseif { [module-info mode remove] && ![module-info mode switch3] } {
    puts stdout "conda deactivate;"
}
module load parallel
module load boost
module load bwa
module load freebayes


prepend-path    PATH            ${hpcc_modules}/masurca/4.0.9/bin
prepend-path    PATH            ${hpcc_modules}/masurca/4.0.9/CA8/Linux-amd64/bin:${hpcc_modules}/4.0.9/Flye/bin
prepend-path	LD_RUN_PATH	${hpcc_modules}/masurca/4.0.9/lib:${hpcc_modules}/masurca/4.0.9/lib/perl
prepend-path	LD_LIBRARY_PATH	${hpcc_modules}/masurca/4.0.9/lib:${hpcc_modules}/MaSuRCA/4.0.9/lib/perl
